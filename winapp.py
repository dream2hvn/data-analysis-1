# -*- coding: utf-8 -*-
"""winapp

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1jLkMBqEcYu9kGdH7GQN7AHa24ml_MEOH
"""

import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
import streamlit as st
sns.set(style='dark')

all_df = pd.read_csv("all_data.csv")

# Streamlit app setup
st.title('Simple Data Visualization - Top Product Categories by Total Price')

# Group the data by 'product_category_name' and sum the 'price' for each category
product_category_prices = data.groupby('product_category_name')['price'].sum().sort_values(ascending=False).head(10)

# Plotting the data using Matplotlib
fig, ax = plt.subplots()
product_category_prices.plot(kind='bar', ax=ax, color='skyblue')
ax.set_title('Top 10 Product Categories by Total Price')
ax.set_xlabel('Product Category')
ax.set_ylabel('Total Price (in currency)')
plt.xticks(rotation=45, ha='right')

# Display the plot in Streamlit
st.pyplot(fig)
